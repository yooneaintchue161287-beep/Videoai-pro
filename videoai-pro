// VIDEOAI PRO â€” FULL DEPLOYABLE PROJECT (NEXT.JS + REAL AI)
// Phone-friendly: copy files into GitHub â†’ deploy on Vercel

/* =========================
   package.json
   ========================= */
{
  "name": "videoai-pro",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start"
  },
  "dependencies": {
    "next": "14.1.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "tailwindcss": "^3.4.0",
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.32",
    "replicate": "^0.25.1",
    "@supabase/supabase-js": "^2.39.3"
  }
}

/* =========================
   app/layout.tsx
   ========================= */
export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className="bg-black text-white">{children}</body>
    </html>
  )
}

/* =========================
   app/page.tsx
   ========================= */
import Navbar from "@/components/Navbar"
import Hero from "@/components/Hero"
import VideoForm from "@/components/VideoForm"
import VideoGallery from "@/components/VideoGallery"
import Pricing from "@/components/Pricing"
import Footer from "@/components/Footer"

export default function Home() {
  return (
    <>
      <Navbar />
      <Hero />
      <main className="space-y-24 px-6">
        <VideoForm />
        <VideoGallery />
        <Pricing />
      </main>
      <Footer />
    </>
  )
}

/* =========================
   app/api/generate-video/route.ts
   ========================= */
import Replicate from "replicate"
import { NextResponse } from "next/server"

const replicate = new Replicate({
  auth: process.env.REPLICATE_API_TOKEN!,
})

export async function POST(req: Request) {
  const data = await req.formData()
  const prompt = data.get("prompt") as string

  const output = await replicate.run(
    "lucataco/animatediff:latest",
    { input: { prompt, num_frames: 16 } }
  )

  return NextResponse.json({ video: output })
}

/* =========================
   components/VideoForm.tsx
   ========================= */
"use client"
import { useState } from "react"

export default function VideoForm() {
  const [prompt, setPrompt] = useState("")
  const [loading, setLoading] = useState(false)
  const [video, setVideo] = useState<string | null>(null)

  async function generate() {
    setLoading(true)
    const form = new FormData()
    form.append("prompt", prompt)

    const res = await fetch("/api/generate-video", {
      method: "POST",
      body: form,
    })

    const data = await res.json()
    setVideo(data.video?.[0])
    setLoading(false)
  }

  return (
    <section className="max-w-xl mx-auto">
      <h2 className="text-2xl font-bold mb-4">Generate AI Video</h2>
      <textarea
        className="w-full p-3 bg-zinc-900 rounded"
        placeholder="Describe your product video"
        value={prompt}
        onChange={(e) => setPrompt(e.target.value)}
      />
      <button
        onClick={generate}
        className="mt-4 px-6 py-2 bg-cyan-500 rounded text-black"
      >
        {loading ? "Generatingâ€¦" : "Generate"}
      </button>

      {video && (
        <video src={video} controls className="mt-6 w-full rounded" />
      )}
    </section>
  )
}

/* =========================
   components/VideoGallery.tsx
   ========================= */
export default function VideoGallery() {
  return (
    <section className="max-w-5xl mx-auto">
      <h2 className="text-2xl font-bold mb-6">Example Videos</h2>
      <div className="grid md:grid-cols-3 gap-6">
        <div className="bg-zinc-900 p-4 rounded">Sneaker Ad</div>
        <div className="bg-zinc-900 p-4 rounded">Phone Promo</div>
        <div className="bg-zinc-900 p-4 rounded">Skincare Reel</div>
      </div>
    </section>
  )
}

/* =========================
   README.md
   ========================= */
# VideoAI Pro

## Deploy Steps (Phone-Friendly)
1. Upload all files to GitHub
2. Go to vercel.com â†’ New Project
3. Add Environment Variable:
   REPLICATE_API_TOKEN=your_key
4. Deploy

Your AI video site is LIVE ðŸš€
